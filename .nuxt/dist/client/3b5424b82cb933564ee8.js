(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{327:function(t,e,n){"use strict";n.r(e);n(25);var l=n(2),o=(n(91),n(66)),r={data:function(){return Object(o.a)({bks:"",options:[{type:"vr",text:"Biển kiểm soát",label:"bks"},{type:"vr",text:"Chủ sở hữu",label:"chu_phuong_tien"},{type:"vr",text:"Loại phương tiện",label:"loai_phuong_tien"},{type:"vr",text:"Địa chỉ",label:"dia_chi_chu_phuong_tien"},{type:"vr",text:"Khối lượng toàn bộ cho phép",label:"khoi_luong_toan_bo_cho_phep_tham_gia_giao_thong"},{type:"vr",text:"Số máy thực tế",label:"so_may_thuc_te"},{type:"vr",text:"Số khung thực tế",label:"so_khung_thuc_te"},{type:"vr",text:"Chở tối đa",label:"so_nguoi_cho_phep_tro"},{type:"vr",text:"Khối Lượng hàng hóa cho phép TGGT",label:"khoi_luong_hang_hoa_chuyen_cho_cho_phep_TGGT"},{type:"vr",text:"Thiết bị Giám sát hành trình",label:"lap_dat_thiet_bi_GSHT"},{type:"vr",text:"Khối lượng kéo theo cho phép",label:"khoi_luog_keo_theo_cho_phep"},{type:"vr",text:"Công thức bánh xe",label:"cong_thuc_banh_xe"},{type:"vr",text:"Kinh Doanh Vận Tải",label:"kinh_doanh_van_tai"},{type:"vr",text:"Khối lượng bản thân",label:"khoi_luong_ban_than"},{type:"vr",text:"Năm sản xuất",label:"nam_san_xuat"},{type:"vr",text:"Kích thước bao",label:"kich_thuoc_bao"},{type:"vr",text:"Phương tiện cải tạo",label:"phuong_tien_cai_tao"},{type:"vr",text:"Vết bánh xe",label:"vet_banh_xe"},{type:"vr",text:"Chiều dài cơ sở",label:"chieu_dai_co_so"},{type:"vr",text:"Lần cuối đăng kiểm đã thực hiện",label:"lan_cuoi_kiem_dinh_da_thuc_hien"},{type:"vetc",text:"Họ và Tên",label:"ho_ten"},{type:"vetc",text:"Ngày sinh",label:"ngay_sinh"},{type:"vetc",text:"Địa chỉ",label:"dia_chi"},{type:"vetc",text:"Giới tính",label:"gioi_tinh"},{type:"vetc",text:"Số điện thoại",label:"phone"},{type:"vetc",text:"Số chứng minh",label:"cmnd"},{type:"vetc",text:"Ngày cấp chứng minh",label:"ngay_cap"},{type:"vetc",text:"Tỉnh",label:"tinh"},{type:"vetc",text:"Trạng thái",label:"trang_thai"},{type:"vetc",text:"Ngày hiệu lực",label:"ngay_hieu_luc"},{type:"vetc",text:"Ngày duyệt hồ sơ",label:"hoso_time"},{type:"vetc",text:"Hồ Sơ TT Duyệt",label:"hoso_tt_duyet"},{type:"vetc",text:"Hồ Sơ Đại lý",label:"hoso_dai_li"},{type:"vetc",text:"Chu kì hóa đơn",label:"chu_ki_hoa_don"},{type:"vetc",text:"Mã tài khoản",label:"ma_tai_khoan"}],pickerOptions:{shortcuts:[{text:"Tuần trước",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-6048e5),t.$emit("pick",[n,e])}},{text:"Tháng trước",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-2592e6),t.$emit("pick",[n,e])}},{text:"3 tháng trước",onClick:function(t){var e=new Date,n=new Date;n.setTime(n.getTime()-7776e6),t.$emit("pick",[n,e])}}]},text:"",vr:[],vetc:[],range_time:[],loading:!1,ruleForm:{}},"loading",!1)},computed:{list_bks:function(){return this.text.split("\n").filter((function(t){return t.length>0}))}},methods:{export_data:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,l,o,r,link;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.loading=!0,0!==t.list_bks.length||0!==t.range_time.length){e.next=3;break}return e.abrupt("return",t.$message({type:"error",message:"Bạn phải chọn khoản thời gian Hoặc nhập danh sách biển kiểm soát."}));case 3:return n=t.range_time[0],l=t.range_time[1],e.next=8,t.$axios.post("/api/crawl/export",{start:n,end:l,list_bks:t.list_bks,vr:t.vr,vetc:t.vetc},{responseType:"blob"});case 8:o=e.sent,r=window.URL.createObjectURL(new Blob([o.data])),(link=document.createElement("a")).href=r,link.setAttribute("download","linhngan.xlsx"),document.body.appendChild(link),link.click(),t.loading=!1;case 16:case"end":return e.stop()}}),e)})))()}}},c=n(39),component=Object(c.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-row",[n("el-col",{attrs:{span:24,offset:0}},[n("el-form",{ref:"form",attrs:{rules:t.ruleForm,"status-icon":"","label-width":"auto","label-position":"top",inline:!1,disabled:!1,"inline-message":!1,"show-message":"","validate-on-rule-change":"",size:"small"}},[n("el-form-item",{attrs:{label:"Thời gian duyệt hồ sơ : ",prop:"range_time",align:"left"}},[n("el-date-picker",{attrs:{type:"daterange","picker-options":t.pickerOptions,"range-separator":"To","start-placeholder":"Từ ngày","end-placeholder":"Đến ngày","value-format":"timestamp","unlink-panels":"",align:"left"},model:{value:t.range_time,callback:function(e){t.range_time=e},expression:"range_time"}})],1),t._v(" "),n("el-form-item",{attrs:{label:"Danh sách cột đăng kiểm : ",prop:"list_bks",align:"left"}},[n("el-checkbox-group",{model:{value:t.vr,callback:function(e){t.vr=e},expression:"vr"}},t._l(t.options.filter((function(t){return"vr"===t.type})),(function(e,l){var label=e.label,text=e.text;return n("el-checkbox",{key:l,attrs:{label:label,border:!1,checked:"bks"===label,disabled:"bks"===label}},[t._v(t._s(text))])})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"Danh sách cột thông tin chủ sở hữu : ",prop:"list_bks",align:"left"}},[n("el-checkbox-group",{model:{value:t.vetc,callback:function(e){t.vetc=e},expression:"vetc"}},t._l(t.options.filter((function(t){return"vetc"===t.type})),(function(e,l){var label=e.label,text=e.text;return n("el-checkbox",{key:l,attrs:{label:label,border:!1,checked:"hoso_time"===label,disabled:"hoso_time"===label}},[t._v(t._s(text))])})),1)],1),t._v(" "),n("el-form-item",{attrs:{label:"Danh sách biển số : ",align:"left"}},[n("el-input",{attrs:{type:"textarea",rows:4,autosize:!1,placeholder:"Nhập danh sách biển số ( Nếu để trống sẽ lấy tất cả)"},model:{value:t.text,callback:function(e){t.text=e},expression:"text"}})],1),t._v(" "),n("el-form-item",{attrs:{align:"center"}},[n("el-button",{attrs:{type:"primary",loading:t.loading,size:"small"},on:{click:t.export_data}},[t._v("Export")])],1)],1)],1)],1)}),[],!1,null,"667df0af",null);e.default=component.exports}}]);